<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>IS219 Gallery (Project 3)</title>

	<!-- CSS + Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
	<link rel="stylesheet" type='text/css' href="style.css" />

	<!-- Vue -->
	<script src="https://unpkg.com/vue@3.0.11/dist/vue.global.js"></script>
</head>

<body>
	<div id="vue_app" class="container">

		<div class="header">
			<div class="container">
				<h1 id="app_title">{{ title }}</h1>
			</div>
		</div>

		<div class="main">

			<!-- Loop through grouped movies -->
			<div v-for="(group, g) in groupedMovies" class="group-wrapper" :class="'group-' + g">
				<div class="row">

					<div class="col-md-6" v-for="(movie, i) in group">

						<div class="thumbnail">

							<div class="imageInfo">
								{{ movie.currentPosterIndex + 1 }} of {{ movie.posters.length }}
							</div>

							<!-- FIXED: using global index now -->
							<img class="poster img-fluid" :src="movie.posters[movie.currentPosterIndex]"
								@click="posterClick(getGlobalIndex(g, i))" />

							<p class="title">{{ movie.title }} ({{ movie.country }})</p>
							<p class="score"><i class="bi bi-star"></i> {{ movie.iscore }}</p>
							<p class="runtime">Runtime: {{ timeText(movie.runtime) }}</p>
							<p class="released">
								Released: {{ getMonthText(movie.released) }} | Rated: {{ movie.rating }}
							</p>

							<p class="websites">
								Websites:
								<a :href="movie.imdb">IMDB</a> |
								<a :href="movie.website">Website</a>
							</p>

							<div class="social">
								<p class="likes" @click="likeMovie(getGlobalIndex(g, i))">
									<i class="bi bi-hand-thumbs-up"></i> {{ movie.likes }}
								</p>

								<p class="dislikes" @click="dislikeMovie(getGlobalIndex(g, i))">
									<i class="bi bi-hand-thumbs-down"></i> {{ movie.dislikes }}
								</p>
							</div>

						</div>
					</div>

				</div>
			</div>

		</div>

		<div class="footer">
			<div class="container">
				<a id="github" class="btn btn-lg btn-warning">
					<i class="bi bi-github me-2">{{ owner }}</i>
				</a>
			</div>
		</div>

	</div>

	<script src="site.js"></script>

</body>

</html>